<link rel="stylesheet" href="css/form.css">

<div class="container">
    <fieldset>
      <legend>Sign up for our newsletter!</legend>
      <form name='signupForm' novalidate>

        <input type="text" name="firstname" placeholder="Enter your first name: "
            ng-model="signup.user.firstname"
            required
            minlength="1"
            ng-maxlength="10">
            {{ signup.userfirstname }}
            <span
            ng-if="(signupForm.firstname.$error.minlength || signupForm.firstname.$error.required) && signupForm.firstname.$touched">
            Firstname must not be empty!
            </span>
            <span ng-if="signupForm.firstname.$error.maxlength && signupForm.firstname.$touched">
            Firstname must not be longer than 10 characters
            </span>
            <br>

        <input type="text" name="lastname" placeholder="Enter your last name: "
            ng-model="signup.user.lastname"
            required
            minlength="1"
            ng-maxlength="10">
            {{ signup.userlastname }}
            <span
              ng-if="(signupForm.lastname.$error.minlength || signupForm.lastname.$error.required) && signupForm.lastname.$touched">
              lastname must not be empty!
            </span>
            <span ng-if="signupForm.lastname.$error.maxlength && signupForm.lastname.$touched">
              lastname must not be longer than 10 characters
            </span>
            <br>

        <input type="email" name="email" placeholder="Email"
            ng-model="signup.user.email"
            required>
            <span ng-if="signupForm.email.$invalid && signupForm.email.$touched">
            Must be a valid email address: handle@domain format
            </span>
            <br>

        <input type="text" name="phone" placeholder="Phone ###-###-####"
            ng-model="signup.user.phone"
            pattern="(\d{3})-(\d{3})-(\d{4})">
            <span ng-if="signupForm.phone.$invalid && signupForm.phone.$touched">
            Phone must be in the format ###-###-####.
            </span>
            <br>

        <input type="text" name="menuitem" placeholder="Your favorite dish: ex. A1"
            ng-model="signup.user.menuitem.short_name">
            <!-- validate the menuitem -->
            <span ng-if="!signup.menuitem_valid">No such menu number exists</span>
            <br>

        <button
          ng-disabled="signupForm.$invalid"
          ng-click="signup.submit()">Submit</button>
<!--
          <div style="margin-top: 10px;">
            Form valid? {{ signupForm.$valid }}
          </div> -->

          <div class="message" ng-if="signupForm.$valid && signup.menuitem_valid">
              <p>Your information has been saved</p>
          </div>
      </form>
    </fieldset>
<!--
    <pre>user = {{signup.user | json}}</pre>
    <pre>saved = {{signup.saved_user | json}}</pre> -->
</div>
